# --- Base Configuration ---
# Base URL for the FHIR server
# Default: http://fhir-server:8080
BASE_URL=http://fhir-server:8080

# Logging level (trace, debug, info, warn, error)
# Default: info
LOG_LEVEL=debug

# --- JVM Performance Tuning ---
# Java tool options for memory allocation
# Default: system dependent
JAVA_TOOL_OPTIONS=-Xmx4g

# --- Database Configuration ---
# Database block cache size in MB
# Default: 256
DB_BLOCK_CACHE_SIZE=256

# Database resource cache size (number of resources)
# Default: 2000000
DB_RESOURCE_CACHE_SIZE=2000000

# CQL expression cache size
# Default: 128
CQL_EXPR_CACHE_SIZE=128

# Path to custom search parameters bundle
# Default: /app/custom-search-parameters.json
DB_SEARCH_PARAM_BUNDLE=/app/custom-search-parameters.json

# --- Server Configuration ---
# Local port binding for FHIR server
# Default: 127.0.0.1:8081
PORT_FHIR_SERVER_LOCALHOST=127.0.0.1:8081

# Enforce referential integrity in FHIR resources
# Default: true
ENFORCE_REFERENTIAL_INTEGRITY=true

# External terminology service URL
# Default: http://terminology-server:8080/fhir
EXTERN_TERMINOLOGY_SERVICE_URL=http://terminology-server:8080/fhir

# Enable admin API endpoints
# Default: true
ENABLE_ADMIN_API=true

# --- FHIR Server Authentication Configuration ---
# OpenID Connect provider URL
# Default: https://auth.localhost:444/realms/blaze
OPENID_PROVIDER_URL=https://auth.localhost:444/realms/blaze

# Authentication issuer URL
# Default: https://auth.localhost:444/realms/blaze
AUTH_ISSUER=https://auth.localhost:444/realms/blaze

# Path to OpenID client trust store
# Default: /app/trust-store.p12
OPENID_CLIENT_TRUST_STORE=/app/trust-store.p12

# Trust store password
# Default: insecure
OPENID_CLIENT_TRUST_STORE_PASS=insecure

# CORS origin configuration
# Default: https://fhir.localhost:444
ORIGIN=https://fhir.localhost:444

# Backend base URL for internal communication
# Default: http://fhir-server:8080
BACKEND_BASE_URL=http://fhir-server:8080

# Path to CA certificate
# Default: ../auth/cert.pem
CA_CERT=../auth/cert.pem

# OAuth client ID
# Default: account
AUTH_CLIENT_ID=account

# OAuth client secret
# Default: insecure
AUTH_CLIENT_SECRET=insecure

# Authentication secret
# Default: insecure
AUTH_SECRET=insecure

# HTTP header for protocol forwarding
# Default: X-Forwarded-Proto
PROTOCOL_HEADER=X-Forwarded-Proto

# HTTP header for host forwarding
# Default: X-Forwarded-Host
HOST_HEADER=X-Forwarded-Host

# Node.js extra CA certificates path
# Default: /app/cert.pem
NODE_EXTRA_CA_CERTS=/app/cert.pem

# Enable Keycloak authentication
# Default: true
KEYCLOAK_ENABLED=true

# Local OpenID client trust store path
# Default: ../auth/trust-store.p12
LOCAL_OPENID_CLIENT_TRUST_STORE=../auth/trust-store.p12

# --- Keycloak Configuration ---
# Keycloak database name
# Default: keycloakdb
KC_DB_URL_DB=keycloakdb

# Keycloak database username
# Default: keycloakdbuser
KC_DB_USERNAME=keycloakdbuser

# Keycloak database password
# Default: keycloakdbpw
KC_DB_PASSWORD=keycloakdbpw

# Keycloak bootstrap admin username
# Default: admin
KC_BOOTSTRAP_ADMIN_USERNAME=admin

# Keycloak bootstrap admin password
# Default: admin
KC_BOOTSTRAP_ADMIN_PASSWORD=admin

# Keycloak HTTP relative path
# Default: /
KC_HTTP_RELATIVE_PATH=/

# Keycloak hostname (public URL)
# Default: https://auth.localhost:444
KC_HOSTNAME=https://auth.localhost:444

# Keycloak admin console hostname
# Default: https://auth.localhost:444
KC_HOSTNAME_ADMIN=https://auth.localhost:444

# Keycloak logging level
# Default: info
KC_LOG_LEVEL=info

# Enable Keycloak health endpoints
# Default: true
KC_HEALTH_ENABLED=true

# Enable Keycloak metrics endpoints
# Default: true
KC_METRICS_ENABLED=true

# Keycloak proxy headers mode
# Default: xforwarded
KC_PROXY_HEADERS=xforwarded

# Enable Keycloak HTTP (non-HTTPS) mode
# Default: true
KC_HTTP_ENABLED=true

# Keycloak client ID
# Default: account
KEYCLOAK_CLIENT_ID=account

# Keycloak client secret
# Default: insecure
KEYCLOAK_CLIENT_SECRET=insecure

# Keycloak client host URL
# Default: https://fhir.localhost:444
KEYCLOAK_CLIENT_HOST_URL=https://fhir.localhost:444