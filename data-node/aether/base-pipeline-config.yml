services:
  torch:
    base_url: "http://localhost:8086"

    # TORCH authentication credentials
    username: ""
    password: ""
    extraction_timeout_minutes: 30
    polling_interval_seconds: 5
    max_polling_interval_seconds: 30

  dimp:
    url: "http://localhost:8083/fhir"
    bundle_split_threshold_mb: 10

pipeline:
  # List of steps to execute in order
  # Import step options (must be first): torch, local_import, http_import
  # Other step options: dimp, validation, csv_conversion, parquet_conversion
  # NOTE: At least one import step must be first in enabled_steps
  # NOTE: Enable all the import types you want to support - the system will automatically
  #       use the correct one based on your input (TORCH URL → torch, local dir → local_import, etc.)
  enabled_steps:
    - torch           # TORCH import via CRTDL or direct TORCH URL
    - dimp

retry:
  # Maximum number of retry attempts for transient errors (network, 5xx)
  # Range: 1-10
  max_attempts: 5

  # Initial backoff delay in milliseconds
  initial_backoff_ms: 1000

  # Maximum backoff delay in milliseconds (exponential backoff cap)
  max_backoff_ms: 30000

# Directory to store job state and data
# Can be absolute or relative path
jobs_dir: "./jobs"